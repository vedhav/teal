<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="teal">
<title>Including Data in teal Applications â€¢ teal</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Including Data in teal Applications">
<meta property="og:description" content="teal">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="../consent.css">
<script src="../consent.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">teal</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.14.0.9027</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/getting-started-with-teal.html">Getting Started with teal</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Using teal</h6>
    <a class="dropdown-item" href="../articles/filter-panel.html">Filter Panel</a>
    <a class="dropdown-item" href="../articles/teal-options.html">Modifying a teal Application With R Options</a>
    <a class="dropdown-item" href="../articles/bootstrap-themes-in-teal.html">Bootstrap Themes in teal</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Data in teal Apps</h6>
    <a class="dropdown-item" href="../articles/including-data-in-teal-applications.html">Including Data in teal Applications</a>
    <a class="dropdown-item" href="../articles/data-as-shiny-module.html">Data as shiny Module</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Extending teal</h6>
    <a class="dropdown-item" href="../articles/creating-custom-modules.html">Creating Custom Modules</a>
    <a class="dropdown-item" href="../articles/adding-support-for-reporting.html">Adding Support for Reporting to Custom Modules</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-technical-blueprint">Technical Blueprint</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-technical-blueprint">
    <a class="dropdown-item" href="../articles/blueprint/index.html">About Blueprint</a>
    <a class="dropdown-item" href="../articles/blueprint/intro.html">Introduction</a>
    <a class="dropdown-item" href="../articles/blueprint/actors.html">Actors</a>
    <a class="dropdown-item" href="../articles/blueprint/dataflow.html">Data Flow</a>
    <a class="dropdown-item" href="../articles/blueprint/product_map.html">Product Map</a>
    <h6 class="dropdown-header" data-toc-skip>Features</h6>
    <a class="dropdown-item" href="../articles/blueprint/input_data.html">Input Data</a>
    <a class="dropdown-item" href="../articles/blueprint/in_app_data.html">In-App Data</a>
    <a class="dropdown-item" href="../articles/blueprint/filter_panel.html">Filter Panel</a>
    <a class="dropdown-item" href="../articles/blueprint/module_encapsulation.html">Module and Encapsulation</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-reports">Reports</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-reports">
    <a class="dropdown-item" href="../coverage-report/">Coverage report</a>
    <a class="dropdown-item" href="../unit-test-report/">Unit test report</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/insightsengineering/teal">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Including Data in teal Applications</h1>
                        <h4 data-toc-skip class="author">NEST
CoreDev</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/teal/blob/HEAD/vignettes/including-data-in-teal-applications.Rmd" class="external-link"><code>vignettes/including-data-in-teal-applications.Rmd</code></a></small>
      <div class="d-none name"><code>including-data-in-teal-applications.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="data-in-teal-applications">Data in <code>teal</code> Applications<a class="anchor" aria-label="anchor" href="#data-in-teal-applications"></a>
</h2>
<p>While the <code>teal</code> framework is mainly geared towards
clinical data that conforms to the <code>ADaM</code> standard, general,
non-relational data is handled just as well and the mechanism of passing
data to applications is virtually the same. Also, modules in
<code>teal.modules.general</code> have been designed to work with
general data.</p>
<p>All applications use the <code>teal_data</code> class as a data
container. <code>teal_data</code> objects are passed to
<code>init</code> to build the application, where they are modified by
the filter panel (if applicable) and passed on to modules. Thus, the
first step of building a <code>teal</code> app is creating a
<code>teal_data</code> object.</p>
<div class="section level3">
<h3 id="general-data">General data<a class="anchor" aria-label="anchor" href="#general-data"></a>
</h3>
<p>A <code>teal_data</code> object is created by calling the
<code>teal_data</code> function and passing data objects as
<code>name:value</code> pairs.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://insightsengineering.github.io/teal/">teal</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: package 'shiny' was built under R version 4.3.1</span></span>
<span></span>
<span><span class="co"># create teal_data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/teal_data.html">teal_data</a></span><span class="op">(</span>iris <span class="op">=</span> <span class="va">iris</span>, cars <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span></code></pre></div>
<p>Note that <code>iris</code> and <code>cars</code> have been added to
the <code>datanames</code> property of <code>data</code> (see <a href="#datanames"><code>datanames</code> property</a>).</p>
<p>This is sufficient to run a <code>teal</code> app.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># build app</span></span>
<span><span class="va">app</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/init.html">init</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">data</span>,</span>
<span>  modules <span class="op">=</span> <span class="fu"><a href="../reference/example_module.html">example_module</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># run app</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">app</span><span class="op">$</span><span class="va">ui</span>, <span class="va">app</span><span class="op">$</span><span class="va">server</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="reproducible-data">Reproducible data<a class="anchor" aria-label="anchor" href="#reproducible-data"></a>
</h3>
<p>A <code>teal_data</code> stores data in a separate environment.
Therefore, modifying the stored datasets requires that code be evaluated
in that environment. Following that logic, one can create an empty
<code>teal_data</code> object and populate it by evaluating code. This
can be done using the <code>eval_code</code> function or, more
conveniently, using the <code>within</code> function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create empty object</span></span>
<span><span class="va">data0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/teal_data.html">teal_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># run code in the object</span></span>
<span><span class="va">data1</span> <span class="op">&lt;-</span> <span class="fu">teal.code</span><span class="fu">::</span><span class="fu"><a href="https://insightsengineering.github.io/teal.code/reference/qenv.html">eval_code</a></span><span class="op">(</span><span class="va">data0</span>, code <span class="op">=</span> <span class="st">"iris &lt;- iris</span></span>
<span><span class="st">                                             cars &lt;- mtcars"</span><span class="op">)</span></span>
<span><span class="co"># alternative</span></span>
<span><span class="va">data2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span><span class="va">data0</span>, <span class="op">{</span></span>
<span>  <span class="va">iris</span> <span class="op">&lt;-</span> <span class="va">iris</span></span>
<span>  <span class="va">cars</span> <span class="op">&lt;-</span> <span class="va">mtcars</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p>The key difference between <code>eval_code</code> and
<code>within</code> is that the former accepts code as character vector
or language objects (calls and expressions), while <code>within</code>
accepts <em>only</em> inline code. See <code><a href="../reference/eval_code.html">?eval_code</a></code> for more
details.</p>
<p>Note that with <code>data</code> the code that created the data
objects is unknown so the process cannot be reproduced. The necessary
code can be added with the <code>code</code> argument of the
<code>teal_data</code> function but in that case the code may not
reproduce the environment. Such an object is considered
<em>unverified</em> (see <a href="#verified"><code>verified</code>
property</a>).</p>
<p>If reproducibility is required, we recommend creating
<code>teal_data</code> empty and evaluating code.</p>
<div class="section level6">
<h6 id="code-from-file">code from file<a class="anchor" aria-label="anchor" href="#code-from-file"></a>
</h6>
<p>The ability to pass code as character vector to
<code>eval_code</code> opens the door to using code stored in a
file.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># not run</span></span>
<span><span class="va">data_from_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/teal_data.html">teal_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">data_from_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eval_code.html">eval_code</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="st">"&lt;path_to_file&gt;"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="creating-data-in-app">Creating data in-app<a class="anchor" aria-label="anchor" href="#creating-data-in-app"></a>
</h3>
<p>The one departure from passing a <code>teal_data</code> object to
<code>init</code> is when the data does not exist in the environment
where the app is run, <em>e.g.</em> when it has to be pulled from a
remote source. In those cases a <code>teal_data_module</code> must be
used. See <a href="data-as-shiny-module.html">this vignette</a> for a
detailed description.</p>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="clinical-data">Clinical data<a class="anchor" aria-label="anchor" href="#clinical-data"></a>
</h2>
<p>Currently <code>teal</code> supports two specialized data
formats.</p>
<div class="section level3">
<h3 id="adam-data">
<code>ADaM</code> data<a class="anchor" aria-label="anchor" href="#adam-data"></a>
</h3>
<p>The <code>ADaM</code> data model specifies relationships between
<code>CDISC</code> datasets. The <code>cdisc_data</code> function takes
advantage of that fact to to automatically set default joining keys (see
<a href="#join_keys"><code>join_keys</code> property</a>). In the
example below, two standard <code>CDISC</code> datasets
(<code>ADSL</code> and <code>ADTTE</code>) are passed to
<code>cdisc_data</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create cdisc_data</span></span>
<span><span class="va">data_cdisc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/cdisc_data.html">cdisc_data</a></span><span class="op">(</span>ADSL <span class="op">=</span> <span class="fu">teal.data</span><span class="fu">::</span><span class="va"><a href="https://insightsengineering.github.io/teal.data/reference/rADSL.html">rADSL</a></span>, ADTTE <span class="op">=</span> <span class="fu">teal.data</span><span class="fu">::</span><span class="va"><a href="https://insightsengineering.github.io/teal.data/reference/rADSL.html">rADSL</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/datanames.html">datanames</a></span><span class="op">(</span><span class="va">data_cdisc</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "ADSL"  "ADTTE"</span></span>
<span><span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/join_keys.html">join_keys</a></span><span class="op">(</span><span class="va">data_cdisc</span><span class="op">)</span></span>
<span><span class="co">#&gt; A join_keys object containing foreign keys between 2 datasets:</span></span>
<span><span class="co">#&gt; ADSL: [STUDYID, USUBJID]</span></span>
<span><span class="co">#&gt;   &lt;-- ADTTE: [STUDYID, USUBJID]</span></span>
<span><span class="co">#&gt; ADTTE: [STUDYID, USUBJID, PARAMCD]</span></span>
<span><span class="co">#&gt;   --&gt; ADSL: [STUDYID, USUBJID]</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">app</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/init.html">init</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">data_cdisc</span>,</span>
<span>  modules <span class="op">=</span> <span class="fu"><a href="../reference/example_module.html">example_module</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">app</span><span class="op">$</span><span class="va">ui</span>, <span class="va">app</span><span class="op">$</span><span class="va">server</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multiassayexperiment-data">
<code>MultiAssayExperiment</code> data<a class="anchor" aria-label="anchor" href="#multiassayexperiment-data"></a>
</h3>
<p>The <code>MultiAssayExperiment</code> package offers a data structure
for representing and analyzing multi-omics experiments: a biological
analysis approach utilizing multiple types of observations, such as DNA
mutations and abundance of RNA and proteins, in the same biological
specimens.</p>
<p>The <code>MultiAssayExperiment</code> class is described in detail <a href="https://www.bioconductor.org/packages/release/bioc/vignettes/MultiAssayExperiment/inst/doc/MultiAssayExperiment.html" class="external-link">here</a>.</p>
<p><code>MultiAssayExperiment</code> objects (MAEs) are placed in
<code>teal_data</code> just like normal objects.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://waldronlab.io/MultiAssayExperiment/" class="external-link">MultiAssayExperiment</a></span><span class="op">)</span></span>
<span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">miniACC</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_mae</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/teal_data.html">teal_data</a></span><span class="op">(</span>MAE <span class="op">=</span> <span class="va">miniACC</span><span class="op">)</span></span>
<span></span>
<span><span class="va">app</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/init.html">init</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">data_mae</span>,</span>
<span>  modules <span class="op">=</span> <span class="fu"><a href="../reference/example_module.html">example_module</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">app</span><span class="op">$</span><span class="va">ui</span>, <span class="va">app</span><span class="op">$</span><span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p>Note that due to the unique structure of a MAE <code>teal</code>
requires special considerations when building <code>teal</code> modules.
Therefore, we cannot guarantee that all modules will work properly with
MAEs. The package <a href="https://insightsengineering.github.io/teal.modules.hermes/latest-tag/"><code>teal.modules.hermes</code></a>
has been developed specifically with MAE in mind and will be more
reliable.</p>
<p>The filter panel supports MAEs out of the box.</p>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="teal_data-properties">
<code>teal_data</code> properties<a class="anchor" aria-label="anchor" href="#teal_data-properties"></a>
</h2>
<div class="section level5">
<h5 id="datanames">
<code>datanames</code><a class="anchor" aria-label="anchor" href="#datanames"></a>
</h5>
<p>The <code>datanames</code> property lists the objects stored in the
<code>teal_data</code> that constitute datasets of interest. Objects
passed to <code>teal_data</code> become automatically listed in the
<code>datanames</code> property of the resulting object. Objects created
in <code>teal_data</code> by evaluating code need not be data objects of
interest and as such they are not automatically added to
<code>datanames</code>. Use the <code>datanames</code> function to
modify the <code>datanames</code> property.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_with_objects</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/teal_data.html">teal_data</a></span><span class="op">(</span>iris <span class="op">=</span> <span class="va">iris</span>, cars <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="va">data_with_code</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/teal_data.html">teal_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">iris</span> <span class="op">&lt;-</span> <span class="va">iris</span></span>
<span>    <span class="va">cars</span> <span class="op">&lt;-</span> <span class="va">mtcars</span></span>
<span>    <span class="va">not_a_dataset</span> <span class="op">&lt;-</span> <span class="st">"data source credits"</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/datanames.html">datanames</a></span><span class="op">(</span><span class="va">data_with_objects</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "iris" "cars"</span></span>
<span><span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/datanames.html">datanames</a></span><span class="op">(</span><span class="va">data_with_code</span><span class="op">)</span></span>
<span><span class="co">#&gt; character(0)</span></span>
<span><span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/datanames.html">datanames</a></span><span class="op">(</span><span class="va">data_with_code</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"iris"</span>, <span class="st">"cars"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/datanames.html">datanames</a></span><span class="op">(</span><span class="va">data_with_code</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "iris" "cars"</span></span></code></pre></div>
<p>All <code>teal</code> modules take a <code>datanames</code> argument
that determines which datasets they are to have access to. Only objects
enumerated in the <code>datanames</code> property of the
<code>teal_data</code> object can be used.</p>
<p>For a detailed explanation of <code>datanames</code>, see <a href="https://insightsengineering.github.io/teal.data/latest-tag/articles/teal-data.html">this
<code>teal.data</code> vignette</a>.</p>
<p><a href="#general-data">(back to General Data)</a></p>
</div>
<div class="section level5">
<h5 id="join_keys">
<code>join_keys</code><a class="anchor" aria-label="anchor" href="#join_keys"></a>
</h5>
<p>Using relational data requires specifying joining keys for each pair
of datasets. Primary keys are unique row identifiers in individual
datasets and thus should be specified for each dataset. Foreign keys
describe mapping of variables between datasets. Joining keys are stored
in the <code>join_keys</code> property, which can be set when creating a
<code>teal_data</code> object, using the <code>join_keys</code>
argument, or using the <code>join_keys</code> function.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ds1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">ds2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>,</span>
<span>  condition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition1"</span>, <span class="st">"condition2"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">keys</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/join_keys.html">join_keys</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/join_key.html">join_key</a></span><span class="op">(</span><span class="st">"DS1"</span>, keys <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/join_key.html">join_key</a></span><span class="op">(</span><span class="st">"DS2"</span>, keys <span class="op">=</span> <span class="st">"group"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/join_key.html">join_key</a></span><span class="op">(</span><span class="st">"DS1"</span>, <span class="st">"DS2"</span>, keys <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"group"</span> <span class="op">=</span> <span class="st">"group"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">data_relational1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/teal_data.html">teal_data</a></span><span class="op">(</span>DS1 <span class="op">=</span> <span class="va">ds1</span>, DS2 <span class="op">=</span> <span class="va">ds2</span>, join_keys <span class="op">=</span> <span class="va">keys</span><span class="op">)</span></span>
<span><span class="va">data_relational2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/teal_data.html">teal_data</a></span><span class="op">(</span>DS1 <span class="op">=</span> <span class="va">ds1</span>, DS2 <span class="op">=</span> <span class="va">ds2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/join_keys.html">join_keys</a></span><span class="op">(</span><span class="va">data_relational2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">keys</span></span></code></pre></div>
<p>For a detailed explanation of join keys, see <a href="https://insightsengineering.github.io/teal.data/latest-tag/articles/join-keys.html">this
<code>teal.data</code> vignette</a>.</p>
<p><a href="#adam-data">(back to <code>ADaM</code> Data)</a></p>
</div>
<div class="section level5">
<h5 id="verified">
<code>verified</code><a class="anchor" aria-label="anchor" href="#verified"></a>
</h5>
<p><code>teal_data</code> allows for tracking code from data creation
through filtering through analysis so that the whole process can be
reproduced. The <code>verified</code> property designates whether or not
reproducibility has been confirmed. <code>teal_data</code> objects that
are created empty and are only modified by evaluating code in them are
verified by default. Ones created with data objects alone or with data
objects and code are not verified by default but can become verified by
running the <code>verify</code> function.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_with_code</span></span>
<span><span class="co">#&gt; âœ…ï¸Ž verified teal_data object</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">&lt;environment: 0x11ef669b0&gt;</span><span style="font-weight: bold;"> [L]</span></span></span>
<span><span class="co">#&gt; Parent: &lt;environment: package:teal&gt;</span></span>
<span><span class="co">#&gt; Bindings:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â€¢</span> not_a_dataset: &lt;chr&gt; [L]</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â€¢</span> cars: &lt;df[,11]&gt; [L]</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â€¢</span> iris: &lt;df[,5]&gt; [L]</span></span>
<span></span>
<span><span class="va">data_with_objects_and_code</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/teal_data.html">teal_data</a></span><span class="op">(</span>iris <span class="op">=</span> <span class="va">iris</span>, cars <span class="op">=</span> <span class="va">mtcars</span>, code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="va">iris</span> <span class="op">&lt;-</span> <span class="va">iris</span>, <span class="va">cars</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">data_with_objects_and_code</span></span>
<span><span class="co">#&gt; âœ– unverified teal_data object</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">&lt;environment: 0x12812e620&gt;</span><span style="font-weight: bold;"> [L]</span></span></span>
<span><span class="co">#&gt; Parent: &lt;environment: package:teal&gt;</span></span>
<span><span class="co">#&gt; Bindings:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â€¢</span> cars: &lt;df[,11]&gt; [L]</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â€¢</span> iris: &lt;df[,5]&gt; [L]</span></span>
<span></span>
<span><span class="va">data_with_objects_and_code_ver</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://insightsengineering.github.io/teal.data/reference/verify.html">verify</a></span><span class="op">(</span><span class="va">data_with_objects_and_code</span><span class="op">)</span></span>
<span><span class="va">data_with_objects_and_code_ver</span></span>
<span><span class="co">#&gt; âœ…ï¸Ž verified teal_data object</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">&lt;environment: 0x12812e620&gt;</span><span style="font-weight: bold;"> [L]</span></span></span>
<span><span class="co">#&gt; Parent: &lt;environment: package:teal&gt;</span></span>
<span><span class="co">#&gt; Bindings:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â€¢</span> cars: &lt;df[,11]&gt; [L]</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">â€¢</span> iris: &lt;df[,5]&gt; [L]</span></span></code></pre></div>
<p>For a detailed explanation of verification, see <a href="https://insightsengineering.github.io/teal.data/latest-tag/articles/teal-data-reproducibility.html">this
<code>teal.data</code> vignette</a>.</p>
<p><a href="#reproducible-data">(back to Reproducible Data)</a></p>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="further-reading">Further reading<a class="anchor" aria-label="anchor" href="#further-reading"></a>
</h2>
<p>For a complete guide to the <code>teal_data</code> class, please
refer to the <a href="https://insightsengineering.github.io/teal.data/latest-tag/"><code>teal.data</code>
package</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="nest">
  <p>teal is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer>
</div>

  

  

  </body>
</html>
